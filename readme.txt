◆ 動作環境

Windows11 22H2 (x64)
.NET 8.0
※ランタイムが必要です。インストールしていない場合は初回起動時の案内に従ってください。


◆ kakoi.exe

グリッド表示で投稿、リアクション、返信、リポスト、引用ができるNostrクライアントです。

  ESC：設定画面
  F1 ：ポストバーの表示と非表示（F12キーでも動作）
  F2 ：時間の表示と非表示
  F3 ：ユーザーアイコンの表示と非表示
  F4 ：名前の表示と非表示
  F9 ：コンテンツの折り返し表示の切り替え（Zキーまたは余白ダブルクリックでも動作）
  F10：ユーザーミュートとキーワード通知の設定画面（余白右クリックでも動作）
  F11：メイン画面の表示と非表示

  1 ～ 0   ：リアクションを選択
  Shift + W：イベント最上行へ移動
  W / [↑] ：イベント選択上移動
  S / [↓] ：イベント選択下移動
  Shift + S：イベント最下行へ移動
  A / [←] ：Webビューを開く（イベントを右クリックでも動作）
  F / [→] ：リアクションを送信（イベントをダブルクリックでも動作）

  R：返信
  B：リポスト
  Q：引用
  C：Webビューを閉じる

  Ctrl + Shift + A：メインフォームをアクティブにする

タイムラインを「伺か」(SSP)に流すことができます。
https://ssp.shillest.net/
https://keshiki.nobody.jp/

GhostSpeakerと棒読みちゃんを組み合わせて読み上げさせるのがおすすめです。
https://github.com/apxxxxxxe/GhostSpeaker
https://chi.usamimi.info/Program/Application/BouyomiChan/

「伺か」(SSP)用ゴースト「nostalk」のNostrイベント通知(Nostr/0.4)に対応しアバター画像を送信できます。
https://github.com/nikolat/nostalk

投稿機能を使うには、設定画面でNostr秘密鍵（nsec1...）の入力が必要です。


◆ 更新履歴

2024/12/02 v0.6.0-beta2
Nostr秘密鍵を資格情報に保存する際にDPAPIで暗号化することにより安全性を高めました。
ログアウトボタンを追加しました。

2024/12/01 v0.6.0-beta
＊大幅な変更＊
nokakoikiキーとパスワードを使ったログインを廃止しました。
設定画面でNostr秘密鍵（nsec1...）を入力してログインするように変更しました。
※Nostr秘密鍵はWindows資格情報に保存されます。

2024/11/30 v0.5.3
日本語のみ表示はフォローしてない投稿のみに適用するようにしました。
キーボードでの操作性を向上しました。

2024/11/26 v0.5.2
リアクション後にリアクション絵文字の選択を先頭に戻すようにしました。
省略表示を変更しました。
返信：［💬 ユーザー名 ユーザー名 ...］
引用：［🗒️］
画像：［🖼️］
URL ：［🔗］
npub：［👤ユーザー名］

2024/11/25 v0.5.1
同じフォルダからの二重起動ができないようにしました。
ログインユーザー名をタイトルバーに表示するようにしました。

2024/11/24 v0.5.0
システムトレイに最小化する設定を追加しました。
※有効にするとウィンドウを閉じても終了せずにシステムトレイに最小化されます。
　システムトレイアイコンを右クリックしてQuitで終了できます。
URL、画像、引用の省略表示を変更しました。

2024/11/21 v0.4.10
投稿中の nostr:npub... と nostr:nprofile... を @ユーザー名 に変換するようにしました。
投稿の中のURL等を省略表示するようにしました。
※ツールチップで全文を表示します。
不正なnpub受信でエラーが出るのを修正しました。

2024/11/15 v0.4.9
フォロイーからのリポストのみを表示する設定を追加しました。
content-warningタグがあれば理由のみ表示し、内容はツールチップで表示するようにしました。
nostr: URI schemeを省略表示するようにしました。

2024/11/09 v0.4.8
内部的な不具合の修正と動作の安定化を行いました。

2024/11/07 v0.4.7
ユーザーアイコンの表示処理を改善しました。
それにともないv0.4.5で追加した<WaitForProfile>の設定を削除しました。

2024/11/07 v0.4.6
ユーザーアイコンが間違った位置に表示されることがある問題を修正しました。
ユーザーアイコンの取得処理を改善しました。

2024/11/05 v0.4.5
pタグにミュートされている公開鍵が含まれている時は表示しないようにしました。
kind:0のREQ発行後の待ち時間を設定できるようにしました。
※kakoi.configの<WaitForProfile>で指定できます。

2024/11/01 v0.4.4
pタグのないリポストを受信時の不具合を修正しました。
タイムライン表示のフォントを変更しました。

2024/10/30 v0.4.3
ユーザーアイコンの縦横比を保持するようにしました。
ユーザーアイコンを円形表示するようにしました。
ユーザーアイコンのURLを変更できるようにしました。（F10キーで開く画面）
汎用リポストの形式を修正しました。
初めて表示するユーザーの名前取得を改善しました。

2024/10/23 v0.4.2
リポストができるようになりました。
投稿を選択してBキーを押すとリポストできます。
引用ができるようになりました。
投稿を選択してQキーを押すと引用できます。
※引用をキャンセルする時はポストバーを一度閉じてください。
リアクションの背景色をkakoi.configで指定できるようにしました。
Zキーでコンテンツの折り返し表示を切り替えられるようにしました。

2024/10/20 v0.4.1
返信ができるようになりました。
投稿を選択してRキーを押すと返信できます。
※返信をキャンセルする時はポストバーを一度閉じてください。
クライアントカラーを時間の背景色だけに適用するように変更しました。

2024/10/20 v0.4.0
メインフォームの投稿欄を削除しました。
Webビューの位置とサイズがリセットされてしまう問題を修正しました。

2024/10/19 v0.3.4
キーボードショートカットを追加しました。
F2キー：時間の表示と非表示
F3キー：ユーザーアイコンの表示と非表示
F4キー：名前の表示と非表示
ユーザーアイコンのサイズを変更しました。
※kakoi.configの<AvatarSize>で指定できます。

2024/10/18 v0.3.3
F1キーでもポストバーの表示と非表示ができるようにしました。
自分が送ったリアクションを表示するようにしました。
リアクションにもクライアント背景色を適用するようにしました。
avatar列の背景色をPublic key colorにしました。

2024/10/16 v0.3.2
キーボードショートカットを追加しました。
W / カーソルキー[↑]：上移動
S / カーソルキー[↓]：下移動
A / カーソルキー[←]：Webビューを開く
F / カーソルキー[→]：リアクションを送信
1 ～ 0：リアクションを選択
C：Webビューを閉じる
Ctrl + Shift + A：メインフォームをアクティブにするグローバルホットキー

2024/10/13 v0.3.1
名前列幅自動調整時のダブルクリックでもリアクションを送信していたのを修正しました。

2024/10/12 v0.3.0
ユーザーのアイコンを表示するようにしました。
※設定画面の「Show avatar」で表示とダウンロードの有無を切り替えられます。
petnameをkind:3から読み込みんで表示するようにしました。（優先表示）
※フォローしていないアカウントのpetnameもF10キーで開く画面またはusers.jsonで設定できます。
リポスト（kind:6）を表示するようにしました。（内容は右クリックで表示）
グリッドの色、返信の背景色、リポストの背景色をkakoi.configで指定できるようにしました。
投稿にclientタグが含まれる場合の背景色をclients.jsonで指定できるようにしました。
ポストバーに画像投稿用URLを開くボタンを追加しました。
※URLはkakoi.configで指定できます。
　初期設定は https://nikolat.github.io/nostr-learn-nip96/ です。
Webビューで開くURLをキーワード通知のURLとは別に指定できるようにしました。
※URLはkakoi.configで指定できます。
　初期設定は https://lumilumi.vercel.app/ です。

2024/10/03 v0.2.2
名前の列幅を保存するようにしました。
eタグを含む投稿の背景色を変更するようにしました。
clientタグにkakoiとlumilumiを含む投稿の背景色を変更するようにしました。

2024/09/30 v0.2.1
clientタグ修正

2024/09/23 v0.2.0
イベントをWebビューで開けるようにしました。
イベントを右クリックまたはカーソルキー左でWebビューで開きます。
※現状ではF10キーで開く設定画面のキーワード通知のURLを使用します。
　https://lumilumi.vercel.app/ がおすすめです。

2024/09/16 v0.1.1
リアクションを選択できるようにしました。
項目の変更はemojis.jsonを編集してください。

2024/09/09 v0.1.0
設定項目を整理しました。

2024/09/08 v0.0.1
初公開


◆ 利用NuGetパッケージ

NTextCat
https://github.com/ivanakcheurov/ntextcat

SkiaSharp
https://github.com/mono/SkiaSharp

Svg.Skia
https://github.com/wieslawsoltes/Svg.Skia

◆ Nostrクライアントライブラリ

NNostr
https://github.com/Kukks/NNostr
内のNNostr.Client Ver0.0.49を一部変更して利用しています。


◆ DirectSSTP送信ライブラリ

DirectSSTPTester
https://github.com/nikolat/DirectSSTPTester
内のSSTPLib Ver4.0.0を利用しています。
